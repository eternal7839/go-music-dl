# Go Music DL Desktop

æ¡Œé¢å®¢æˆ·ç«¯ç‰ˆæœ¬çš„ [Go Music DL](https://github.com/guohuiyuan/go-music-dl)ï¼Œæä¾›åŸç”Ÿæ¡Œé¢çª—å£ä½“éªŒï¼Œæ— éœ€æ‰“å¼€æµè§ˆå™¨å³å¯ä½¿ç”¨å®Œæ•´çš„ Web ç•Œé¢åŠŸèƒ½ã€‚

## âœ¨ ç‰¹æ€§

- ğŸ–¥ï¸ **åŸç”Ÿæ¡Œé¢çª—å£** - æ— éœ€æµè§ˆå™¨ï¼Œç›´æ¥åœ¨æ¡Œé¢åº”ç”¨ä¸­ä½¿ç”¨
- ğŸš€ **è‡ªåŠ¨å¯åŠ¨æœåŠ¡** - å†…ç½® Web æœåŠ¡å™¨ï¼Œå¯åŠ¨å³ç”¨
- ğŸµ **å®Œæ•´åŠŸèƒ½** - æ”¯æŒæ‰€æœ‰ Web ç‰ˆæœ¬çš„åŠŸèƒ½ï¼ˆæœç´¢ã€ä¸‹è½½ã€è¯•å¬ç­‰ï¼‰
- ğŸ“¦ **ç»¿è‰²å…å®‰è£…** - å•æ–‡ä»¶åˆ†å‘ï¼Œæ— éœ€å®‰è£…ä¾èµ–
- ğŸ–¼ï¸ **è‡ªå®šä¹‰å›¾æ ‡** - ä¸“ä¸šçš„çª—å£å›¾æ ‡è®¾è®¡
- ğŸ”’ **å®‰å…¨ç«¯å£** - ä½¿ç”¨ 37777 ç«¯å£ï¼Œé¿å…å¸¸è§ç«¯å£å†²çª
- ğŸ‘» **é™é»˜è¿è¡Œ** - åå°å¯åŠ¨ï¼Œä¸æ‰“å¼€é¢å¤–æµè§ˆå™¨çª—å£
- ğŸ›‘ **æ™ºèƒ½æ¸…ç†** - å…³é—­çª—å£æ—¶è‡ªåŠ¨ç»ˆæ­¢æ‰€æœ‰ç›¸å…³è¿›ç¨‹
- ğŸ—‚ï¸ **ç¼“å­˜ç®¡ç†** - WebView æ•°æ®å­˜å‚¨åœ¨ç³»ç»Ÿä¸´æ—¶ç›®å½•ï¼Œä¸æ±¡æŸ“ç¨‹åºç›®å½•

## ğŸ—ï¸ æŠ€æœ¯å®ç°

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **Rust** - ä¸»è¦ç¼–ç¨‹è¯­è¨€
- **Tao** - è·¨å¹³å°çª—å£ç®¡ç†
- **Wry** - WebView æ¸²æŸ“å¼•æ“
- **WebView2** (Windows) - Microsoft Edge å†…æ ¸

### æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Desktop App   â”‚    â”‚   Web Server    â”‚    â”‚   Web UI        â”‚
â”‚   (Rust + Tao)  â”‚â—„â”€â”€â–ºâ”‚   (Go binary)   â”‚â—„â”€â”€â–ºâ”‚   (HTML/JS)     â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ â€¢ çª—å£ç®¡ç†      â”‚    â”‚ â€¢ REST API      â”‚    â”‚ â€¢ æœç´¢ç•Œé¢      â”‚
â”‚ â€¢ WebView æ¸²æŸ“  â”‚    â”‚ â€¢ éŸ³ä¹ä¸‹è½½      â”‚    â”‚ â€¢ æ’­æ”¾æ§åˆ¶      â”‚
â”‚ â€¢ è¿›ç¨‹ç®¡ç†      â”‚    â”‚ â€¢ æ–‡ä»¶å¤„ç†      â”‚    â”‚ â€¢ æ‰¹é‡æ“ä½œ      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®ç‰¹æ€§

1. **åµŒå…¥å¼äºŒè¿›åˆ¶** - Go åç«¯ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåµŒå…¥åˆ° Rust å¯æ‰§è¡Œæ–‡ä»¶ä¸­
2. **è¿›ç¨‹éš”ç¦»** - å‰åç«¯åˆ†ç¦»ï¼Œæ¡Œé¢åº”ç”¨åªè´Ÿè´£çª—å£å’Œè¿›ç¨‹ç®¡ç†
3. **æ™ºèƒ½æ¸…ç†** - ç¨‹åºé€€å‡ºæ—¶è‡ªåŠ¨æ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œåå°è¿›ç¨‹
4. **è·¨å¹³å°å…¼å®¹** - æ”¯æŒ Windows/macOS/Linux æ„å»º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸‹è½½ä½¿ç”¨

1. ä» [Releases](https://github.com/guohuiyuan/go-music-dl/releases) é¡µé¢ä¸‹è½½å¯¹åº”å¹³å°çš„å‹ç¼©åŒ…
2. è§£å‹åˆ°ä»»æ„ç›®å½•
3. åŒå‡»è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶
4. åº”ç”¨å°†è‡ªåŠ¨å¯åŠ¨å†…ç½® Web æœåŠ¡å™¨å¹¶æ‰“å¼€æ¡Œé¢çª—å£

### ç³»ç»Ÿè¦æ±‚

- **Windows**: Windows 10+ (WebView2 è¿è¡Œæ—¶)
- **macOS**: macOS 10.15+
- **Linux**: æ”¯æŒ WebKitGTK çš„å‘è¡Œç‰ˆ

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£… Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# å®‰è£…ä¾èµ– (Windows)
# WebView2 è¿è¡Œæ—¶ä¼šè‡ªåŠ¨ä¸‹è½½

# å®‰è£…ä¾èµ– (macOS)
brew install webkit2gtk

# å®‰è£…ä¾èµ– (Linux)
sudo apt-get install libwebkit2gtk-4.0-dev
```

### æ„å»ºé¡¹ç›®

```bash
# è¿›å…¥æ¡Œé¢åº”ç”¨ç›®å½•
cd desktop

# æ„å»ºè°ƒè¯•ç‰ˆæœ¬
cargo build

# æ„å»ºå‘å¸ƒç‰ˆæœ¬
cargo build --release

# è¿è¡Œåº”ç”¨
cargo run
```

### é¡¹ç›®ç»“æ„

```
desktop/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.rs          # ä¸»ç¨‹åºé€»è¾‘
â”œâ”€â”€ Cargo.toml           # Rust ä¾èµ–é…ç½®
â”œâ”€â”€ build.rs             # æ„å»ºè„šæœ¬ (Windows å›¾æ ‡)
â”œâ”€â”€ icon.png             # åº”ç”¨å›¾æ ‡
â””â”€â”€ index.html           # å¤‡ç”¨ HTML (æœªä½¿ç”¨)
```

### æ„å»ºé…ç½®

é¡¹ç›®æ”¯æŒè·¨å¹³å°æ„å»ºï¼Œ`Cargo.toml` ä¸­åŒ…å«äº†ä¸åŒå¹³å°çš„æ‰“åŒ…é…ç½®ï¼š

- **Windows**: MSI å®‰è£…åŒ…
- **macOS**: DMG é•œåƒ
- **Linux**: DEB/RPM åŒ…

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

### æ ¸å¿ƒåŠŸèƒ½

- âœ… éŸ³ä¹æœç´¢ä¸ä¸‹è½½
- âœ… å®æ—¶è¯•å¬
- âœ… æ‰¹é‡æ“ä½œ
- âœ… æ­Œè¯ä¸‹è½½
- âœ… å°é¢è·å–
- âœ… å¤šå¹³å°æ”¯æŒ
- âœ… åŠ å¯†éŸ³é¢‘è§£å¯†

### ç•Œé¢ç‰¹æ€§

- ğŸ¨ ç°ä»£åŒ– Web ç•Œé¢
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸŒ™ æ·±è‰²æ¨¡å¼æ”¯æŒ
- âŒ¨ï¸ é”®ç›˜å¿«æ·é”®
- ğŸ” å®æ—¶æœç´¢
- ğŸ“Š ä¸‹è½½è¿›åº¦æ˜¾ç¤º

## ğŸ”§ é…ç½®è¯´æ˜

### ç«¯å£é…ç½®

é»˜è®¤ä½¿ç”¨ç«¯å£ `37777`ï¼Œå¦‚éœ€ä¿®æ”¹è¯·ç¼–è¾‘ `src/main.rs` ä¸­çš„ `server_config::PORT`ã€‚

### æ•°æ®å­˜å‚¨

- **ä¸´æ—¶æ–‡ä»¶**: å­˜å‚¨åœ¨ç³»ç»Ÿä¸´æ—¶ç›®å½• (`%TEMP%` æˆ– `/tmp`)
- **WebView ç¼“å­˜**: å­˜å‚¨åœ¨ `go-music-dl-webview-data` æ–‡ä»¶å¤¹
- **ä¸‹è½½æ–‡ä»¶**: ä¿å­˜åœ¨ç”¨æˆ·é€‰æ‹©çš„ä½ç½®

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. ç¨‹åºå¯åŠ¨å¤±è´¥

**ç°è±¡**: åŒå‡»åæ— ååº”æˆ–é—ªé€€
**è§£å†³**:
- æ£€æŸ¥æ˜¯å¦å·²å®‰è£… WebView2 è¿è¡Œæ—¶ (Windows)
- æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºè·å–é”™è¯¯ä¿¡æ¯
- ç¡®ä¿ç«¯å£ 37777 æœªè¢«å ç”¨

#### 2. æ–‡ä»¶é”å®šé”™è¯¯

**ç°è±¡**: "å¦ä¸€ä¸ªç¨‹åºæ­£åœ¨ä½¿ç”¨æ­¤æ–‡ä»¶"
**è§£å†³**:
```powershell
# å¼ºåˆ¶ç»“æŸæ®‹ç•™è¿›ç¨‹
taskkill /F /IM music-dl.exe
```

#### 3. WebView2 ç›¸å…³é”™è¯¯

**ç°è±¡**: WebView æ— æ³•åŠ è½½
**è§£å†³**:
- å®‰è£…æœ€æ–°çš„ WebView2 è¿è¡Œæ—¶
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æŸ¥çœ‹é˜²ç«å¢™è®¾ç½®

#### 4. æ„å»ºå¤±è´¥

**ç°è±¡**: ç¼–è¯‘æ—¶å‡ºç°ä¾èµ–é”™è¯¯
**è§£å†³**:
```bash
# æ›´æ–°ä¾èµ–
cargo update

# æ¸…ç†æ„å»ºç¼“å­˜
cargo clean

# é‡æ–°æ„å»º
cargo build
```

### æ—¥å¿—è°ƒè¯•

ç¨‹åºä¼šåœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†çš„å¯åŠ¨å’Œè¿è¡Œä¿¡æ¯ï¼š

```bash
cargo run 2>&1 | tee debug.log
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘è§„èŒƒ

1. éµå¾ª Rust ä»£ç è§„èŒƒ
2. æ·»åŠ å¿…è¦çš„é”™è¯¯å¤„ç†
3. æ›´æ–°æ–‡æ¡£å’Œæ³¨é‡Š
4. æµ‹è¯•è·¨å¹³å°å…¼å®¹æ€§

### æ„å»ºå‘å¸ƒ

```bash
# åˆ›å»ºå‘å¸ƒæ„å»º
cargo build --release

# Windows å¹³å°
# ç”Ÿæˆ MSI å®‰è£…åŒ…
cargo wix --package go-music-dl-desktop

# macOS å¹³å°
# ç”Ÿæˆ DMG
cargo bundle --release

# Linux å¹³å°
# ç”Ÿæˆ DEB åŒ…
cargo deb --no-build
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ AGPL-3.0 è®¸å¯è¯ï¼Œè¯¦è§ä¸»é¡¹ç›® [LICENSE](../LICENSE) æ–‡ä»¶ã€‚

## ğŸ™ è‡´è°¢

- [Tao](https://github.com/tauri-apps/tao) - çª—å£ç®¡ç†æ¡†æ¶
- [Wry](https://github.com/tauri-apps/wry) - WebView ç»‘å®š
- [Go Music DL](https://github.com/guohuiyuan/go-music-dl) - åç«¯éŸ³ä¹æœåŠ¡

---

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ¡Œé¢å®¢æˆ·ç«¯é¡¹ç›®ï¼Œæ ¸å¿ƒéŸ³ä¹åŠŸèƒ½ç”± [Go Music DL](https://github.com/guohuiyuan/go-music-dl) æä¾›ã€‚